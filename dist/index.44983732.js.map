{"mappings":"AAAA,QAAQ;AACR,MAAM,OAAO,SAAS,IAAI,CAAC,aAAa,CAAC;AACzC,MAAM,iBAAiB,SAAS,IAAI,CAAC,aAAa,CAAC;AACnD,MAAM,sBAAsB,SAAS,IAAI,CAAC,aAAa,CAAC;AAExD,IAAI,YAAY,EAAE;AAElB,SAAS,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM;IACpC,IAAI,CAAC,EAAE,GAAG;IACV,IAAI,CAAC,IAAI,GAAG;IACZ,IAAI,CAAC,MAAM,GAAG;IACd,IAAI,CAAC,MAAM,GAAG;IACd,IAAI,CAAC,YAAY,GAAG;QAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,SAAS,WAAW;IACpD;AACF;AAEA,SAAS,iBAAiB,KAAK;IAC7B,MAAM,WAAW,IAAI,SAAS,MAAM,MAAM;IAC1C,MAAM,cAAc,OAAO,WAAW,CAAC;IACvC,YAAY,EAAE,GAAG,UAAU,MAAM,GAAG;IACpC,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;IACrC,MAAM,UAAU,IAAI,KAAK,IAAI,MAAM,QAAQ;IAC3C,UAAU,IAAI,CAAC;IACf,MAAM,MAAM,CAAC,KAAK;IAClB,WAAW;IACX,mBAAmB;IACnB,yBAAyB;IACzB;AACF;AAEA,SAAS,WAAW,OAAO;IACzB,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;IACrC,eAAe,kBAAkB,CAC/B,aACA,CAAC;wCACmC,EAAE,GAAG;YACjC,EAAE,KAAK;YACP,EAAE,OAAO;kDAC6B,EAAE,OAAO;;;IAGvD,CAAC;AAEL;AAEA,SAAS,mBAAmB,EAAE;IAC5B,MAAM,mBAAmB,SAAS,aAAa,CAC7C,CAAC,UAAU,EAAE,GAAG,kBAAkB,CAAC;IAErC,QAAQ,GAAG,CAAC;IACZ,iBAAiB,gBAAgB,CAAC,SAAS;QACzC,MAAM,cAAc,iBAAiB,OAAO,CAAC;QAC7C,YAAY,MAAM;QAClB,YAAY,UAAU,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACrD;AACF;AAEA,SAAS,yBAAyB,EAAE;IAClC,MAAM,mBAAmB,SAAS,aAAa,CAC7C,CAAC,UAAU,EAAE,GAAG,kBAAkB,CAAC;IAErC,iBAAiB,gBAAgB,CAAC,SAAS;QACzC,iBAAiB,WAAW,GAC1B,iBAAiB,WAAW,KAAK,SAAS,WAAW;QACvD,YAAY,UAAU,GAAG,CAAC,CAAC;YACzB,IAAI,KAAK,EAAE,KAAK,IACd,KAAK,YAAY;YAEnB,OAAO;QACT;IACF;AACF;AAEA,SAAS;IACP,oBAAoB,gBAAgB,CAAC,SAAS;QAC5C,KAAK,KAAK;QACV,YAAY,EAAE;QACd,eAAe,SAAS,GAAG;IAC7B;AACF;AAEA,KAAK,gBAAgB,CAAC,UAAU,CAAC;IAC/B,MAAM,cAAc;IACpB,iBAAiB;AACnB","sources":["src/script.js"],"sourcesContent":["// nodes\nconst form = document.body.querySelector(\".entry-field\");\nconst booksContainer = document.body.querySelector(\".library__items\");\nconst deleteLibraryButton = document.body.querySelector(\".button--delete\");\n\nlet myLibrary = [];\n\nfunction Book(id, name, author, status) {\n  this.id = id;\n  this.name = name;\n  this.author = author;\n  this.status = status;\n  this.toggleStatus = function () {\n    this.status = this.status === \"read\" ? \"unread\" : \"read\";\n  };\n}\n\nfunction addBookToLibrary(event) {\n  const formData = new FormData(event.target);\n  const newBookData = Object.fromEntries(formData);\n  newBookData.id = myLibrary.length + 1;\n  const { id, name, author, status } = newBookData;\n  const newBook = new Book(id, name, author, status);\n  myLibrary.push(newBook);\n  event.target.reset();\n  renderBook(newBook);\n  addDeleteBookEvent(id);\n  addToggleStatusBookEvent(id);\n  addEventDeleteLibrary();\n}\n\nfunction renderBook(newBook) {\n  const { id, name, author, status } = newBook;\n  booksContainer.insertAdjacentHTML(\n    \"beforeend\",\n    `\n      <tr class=\"library__item\" data-id=${id}>\n        <td>${name}</td>\n        <td>${author}</td>\n        <td><button class=\"button button--status\">${status}</button></td>\n        <td><button class=\"button button--remove\">delete</button></td>\n      </tr>\n    `\n  );\n}\n\nfunction addDeleteBookEvent(id) {\n  const removeCurrentBtn = document.querySelector(\n    `[data-id='${id}'] .button--remove`\n  );\n  console.log(removeCurrentBtn);\n  removeCurrentBtn.addEventListener(\"click\", () => {\n    const currentBook = removeCurrentBtn.closest(\".library__item\");\n    currentBook.remove();\n    myLibrary = myLibrary.filter((item) => item.id !== id);\n  });\n}\n\nfunction addToggleStatusBookEvent(id) {\n  const statusCurrentBtn = document.querySelector(\n    `[data-id='${id}'] .button--status`\n  );\n  statusCurrentBtn.addEventListener(\"click\", () => {\n    statusCurrentBtn.textContent =\n      statusCurrentBtn.textContent === \"read\" ? \"unread\" : \"read\";\n    myLibrary = myLibrary.map((item) => {\n      if (item.id === id) {\n        item.toggleStatus();\n      }\n      return item;\n    });\n  });\n}\n\nfunction addEventDeleteLibrary() {\n  deleteLibraryButton.addEventListener(\"click\", () => {\n    form.reset();\n    myLibrary = [];\n    booksContainer.innerHTML = '';\n  });\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  addBookToLibrary(event);\n});\n"],"names":[],"version":3,"file":"index.44983732.js.map","sourceRoot":"/__parcel_source_root/"}